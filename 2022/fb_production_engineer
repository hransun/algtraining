
被FB血虐。。。 PE第三轮SYSTEM。
以为会是这些问题
http://www.1point3acres.com/bbs/ ... adio%26sortid%3D311
结果根本不是啊！！！ 全尼玛底层system troubleshooting.
来来来，贴问题：
1. 一个process突然消耗了大量的内存， 导致其他进程特别慢，top检测不到。咋办？
1.1 如果这个进程是必要的，但是又不想让他吃太多内存导致其他进程变慢怎么办？
1.2 cpu idle, 但是mem消耗很大， 会是什么情况？
1.3 假设可以看到code, 如何check?
2. 本来好好的server, 突然某天早上11点memory消耗巨大，怎么check?
2.1 没有很多程序在运行， 那又会是什么原因？
2.2 各种情况。。。
3. 在你之前，有个人type ls . 结果卡住了， 按ctrl + c没用（你TM在逗我。。）
3.1 你看不到路径（我‍‌‌‍‍‌‌‍‌‌‍‌‌‌‍‌‌‍说可能是路径的问题）， 那怎么check当前这个ls进程在哪个路径run?
3.2 OK,你通过某些方式看到了（这个是可以做到的）， 且路径在 /mnt/var/xxx 那可能是什么原因？
3.3 假设是AWS的EBS， 那可能会是什么原因？ 如何解决？
卧槽。。。。我内心早已崩溃。。
不过在面试过程中，amazon的offer来了。。心里还是淡定了下来。。结束了无业游民的状态。。。
FB的PE真的好难。。。 只能好运了！
======

夏天面 FB 的 Production Engineer (PE)，之前发过的一个询问帖，苦寻面经，
http://www.1point3acres.com/bbs/ ... p;page=1#pid2043267
最终还是要感谢 deanmax， 给了许多指点。
这段日子又有后来人询问我关于 PE 的面经。那我就再开个贴 把之前的二面面经发在这里，希望可以造福后人。
括号里的是我自己答的，不一定对，大家参考。
Problems:
        #1 : Tell me every step after you input "$ ls -l *" and hit enter in bash.
                        - what happend before the command executes.
                        - how does kernal know what is "ls".
                        - how does kernal interprete this String.
                        - what system call are called? how do you understand the system call.
        #2 : what is pipe? ex: ls | grep , what happend when you type this.
        #3 : what is "file description"? (finally, he is examing me the STDIN / STDOUT / ERROR, these channels)
        #4 : when you execute "telnet google.com 80", what happend?
        #5 : Given a situation: The memory is crush and the system reboots due to a highly memory usage, what would
                        you do?
                        - How can you find out which process is causing this problem.
                                (use "top" try to find the highest I/O requests)
                        - How to find which file is being currently most reading or requesting?
                                (...)
                        - You may use "procfile" command.
                        - How can you avoid this happened? How to avoid the system rebooting due to the memo crush?
                                (write a monitoring script, if the memory load is high, kill the process which highly use the memory resource)
                        - do you know how "memory swap" work? (swap the sleeping process out, and keep the active ones inside the memo).
        #6 : Suppose I have separate DB server for the DB process. If my DB server running slow. What can you do?
                                (for hardware, you may use RAID to improve read/write performance ... )
                        - What RAIN mode you're gonna use?
                                (RAID 5 or RAID 6)
                        - What is their difference?
                                (RAID 5 can have at most 1 disk failure, RAID 6 is two)
                                (Or scale up, replace with better CPU, memo ... )
                        - May be SSD ?
                                (yeh, SSD, or try to have faster spin speed hard disk.)
                                (for the software, you may replace Relational Database System with NoSQL database)
面后体会：
- 对于 Linux Kernal 要多加了解，并且要细致了解，每一步是怎么工作的。
- OS 中的各个部分是怎么协调的。
- 常用的command，tool 要会。
现在体会：
建议面 PE 的小伙伴们，如果系统知识很强的话，那就赶紧面吧。
如果大家也是写程序，算法啥的比较顺手，建议可以试一下。过不了也可以让 HR 递简历给 SDE 相关的组，碰碰运气，看他们能不能给面试。
<福利> 一面面经：
1. English 转化为 Goat Latin Language。
规则：
        1. vowel 开头的单词，要在单词后面加 ma
        2. consonant 开头的单词，把这个 consonant 移动到单词末尾。
        3. 所有的单词末尾都要加上一个 String，这个 String 在第一个单词后面是 a，第二个单词后面是 aa，以此类推。
        ex：
                I speak Goat Latin -> Imaa peaksaa oatGaaa atinLaaaa
2. 是一道 Network 的题。大概意思是讲 有一项 Network Serv‍‌‌‍‍‌‌‍‌‌‍‌‌‌‍‌‌‍ice 要升级，大家决定 启用新的 Port 来减少 confusion。
这项迁移工程需要很久，所以需要 System 每天 report。
请你写一个 Script，输入 <hostName port1 port2> as command line argument, output the 迁移 progress，和那些 host running both version 和 host which does not running any version.
(当时完全不知所云，哪位大牛看到，可以写写想法，方便后面的童鞋）
祝福所有面 PE 的你们 好运！
====

1. 给你一本书(input)，统计里面词频最高的10个单词
先是说考虑input是一个大string的情况，用hashmap+maxheap直接秒就行了，注意一些细节处理就好，我写完被挑出一些小毛病，
改完小哥很满意然后上follow up: input是一个文件？改下代码的input处理就好了，按行读入按单词存入hashmap。写完继续follow up：
如果input文件很大，hashmap爆了内存怎么办？只考虑ASCII。然后开始估算大概要用多少内存，算下来几M到几十M不等的内存占用，然后pass